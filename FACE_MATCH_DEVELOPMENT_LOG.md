# 🐾 관상 + 심리 케미 분석 기능 개발 기록

## 📅 개발일시
2026년 1월 16일

## 📌 기능 개요
Teachable Machine의 강아지/고양이상 분류 모델을 기존 테토에겐 앱에 연동하여, 사용자의 **얼굴상 + 테토 점수 + MBTI**를 종합 분석하는 "반전 매력 캐릭터" 기능 추가.

## 🎯 핵심 컨셉
> "외모와 성격의 반전 매력 찾기"

40가지 고유 캐릭터 조합 (얼굴상 2 × 테토점수 5 × MBTI그룹 4)

## 📁 변경된 파일

### 신규 파일
| 파일 | 설명 |
|------|------|
| `src/data/faceChemistry.ts` | 40가지 캐릭터 데이터 정의 |
| `src/utils/teachableMachine.ts` | TensorFlow.js 모델 로드 및 예측 유틸리티 |
| `src/components/FaceAnalysis.tsx` | 사진 업로드 및 AI 분석 컴포넌트 |
| `src/pages/FaceMatch.tsx` | 관상 분석 결과 페이지 |

### 수정된 파일
| 파일 | 변경 내용 |
|------|----------|
| `src/App.tsx` | `/face-match` 라우트 추가 |
| `src/pages/Result.tsx` | "관상 + 심리 케미 분석하기" 버튼 추가 |
| `src/types/index.ts` | `face_match_*` 이벤트 타입 추가 |
| `package.json` | TensorFlow.js 및 Teachable Machine 패키지 추가 |

## 🔧 기술 스택
- **TensorFlow.js**: `@tensorflow/tfjs`
- **Teachable Machine**: `@teachablemachine/image`
- **모델 URL**: `https://teachablemachine.withgoogle.com/models/cxrrzC2e5/`

## 🎭 캐릭터 예시

| 조합 | 캐릭터명 | 설명 |
|------|----------|------|
| 🐶 강아지상 + 파워T + 분석가 | 인공지능 골든리트리버 | 생긴 건 순둥이, 속은 ChatGPT |
| 🐱 고양이상 + 파워F + 외교관 | 꾹꾹이 하는 시인냥 | 도도하지만 밤에 감성글 쓰는 타입 |
| 🐶 강아지상 + 하이브리드 + 탐험가 | 즉흥 여행 믹스견 | 오늘 뭐해? 갈래? 지금 당장! |

## 🚀 사용자 흐름
```
홈 → 테토 테스트 → MBTI 입력 → 결과
                              ↓
                    "관상 + 심리 케미 분석하기" 클릭
                              ↓
                        사진 업로드 → AI 분석
                              ↓
                        🎉 최종 캐릭터 카드 🎉
                              ↓
                          공유하기 (SNS)
```

## ✅ 검증 항목
- [x] 패키지 설치 완료
- [x] TypeScript 컴파일 성공
- [x] 개발 서버 정상 실행
- [x] 라우팅 `/face-match` 동작
- [ ] 실제 사진 업로드 및 분석 테스트 (수동)

## 📝 참고사항
- TensorFlow.js 번들 크기가 크므로 Lazy Loading 적용됨
- Teachable Machine 모델은 CDN에서 로드
- 모바일 웹에서도 카메라/갤러리 선택 가능

---
*Generated by Antigravity AI Assistant*
